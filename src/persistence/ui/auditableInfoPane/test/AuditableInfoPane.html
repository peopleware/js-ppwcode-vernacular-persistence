<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8">

  <title>AuditableInfo Browser Tests</title>

  <!-- required: the default dijit theme: -->
  <link id="themeStyles" rel="stylesheet" href="../../../../../dijit/themes/claro/claro.css"/>

  <!-- SCRIPT -->
  <script>
    var dojoConfig = {
      async: true,
      isDebug: true,
      parseOnLoad: false,
      has: {
        "has-debug-messages": true
      }
    };
  </script>

  <script src="../../../../../dojo/dojo.js"></script>

  <script type="text/javascript">
    require(
      ["dojo/parser",
        "ppwcode/contracts/doh",
        "ppwcode/persistence/AuditableObject",
        "ppwcode/persistence/ui/auditableInfoPane/AuditableInfoPane",
        "dijit/registry",
        "ppwcode/semantics/ui/_semanticObjectPane/test/semanticObjectPaneTestGenerator",
        "dojo/domReady!"
      ],
      function(parser, doh, AuditableObject, AuditableInfoPane, registry, generator) {

        var parsePromise = parser.parse();
        parsePromise.then(function() {
          var json = {createdAt: new Date(), createdBy: "Jos2", lastModifiedAt: new Date(), lastModifiedBy: "Mieke"};

          function createAO() {
            var ao = new AuditableObject();
            ao.reload(json);
            return ao;
          }

          var subject = registry.byId("subject");

          doh.register(
            "Auditable Info Pane",
            generator(subject, AuditableObject, createAO)
          );
          doh.run();
        });
      });
  </script>
</head>
<body>
<!-- Define an instance of the widget to test. -->
<div id="subject" data-dojo-type="ppwcode/persistence/ui/auditableInfoPane/AuditableInfoPane"></div>
</body>
</html>
